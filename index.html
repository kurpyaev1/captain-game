<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –∫–∞–ø–∏—Ç–∞–Ω–∞</title>
  <style>
    body {
      margin: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: linear-gradient(135deg, #89f7fe, #66a6ff);
      font-family: -apple-system, BlinkMacSystemFont, Arial, sans-serif;
    }
    .game {
      background: white;
      padding: 24px;
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      text-align: center;
      width: 90vw;
      max-width: 420px;
    }
    h1 { 
      margin-top: 0; 
      font-size: 24px;
    }
    p {
      font-size: 16px;
    }
    .sea {
      position: relative;
      height: 220px;
      background: linear-gradient(#4facfe, #00f2fe);
      border-radius: 16px;
      overflow: hidden;
      margin: 16px 0;
    }
    .ship {
      position: absolute;
      bottom: 24px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 44px;
      transition: left 0.15s;
    }
    .star {
      position: absolute;
      top: 16px;
      font-size: 32px;
    }
    button {
      margin: 8px;
      padding: 14px 22px;
      border: none;
      border-radius: 999px;
      cursor: pointer;
      background: #66a6ff;
      color: white;
      font-size: 18px;
    }
    .message { 
      margin-top: 12px; 
      font-size: 18px; 
    }
  </style>
</head>
<body>
  <div class="game">
    <h1>‚öì –ü—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –∫–∞–ø–∏—Ç–∞–Ω–∞</h1>
    <p>–ü–æ–π–º–∞–π –∫–∞–∫ –º–æ–∂–Ω–æ –±–æ–ª—å—à–µ –∑–≤—ë–∑–¥ –∏ –ø—Ä–æ–≤–µ–¥–∏ –∫–æ—Ä–∞–±–ª—å –ø–æ –º–∞—Ä—à—Ä—É—Ç—É</p>

    <div class="sea" id="sea">
      <div class="ship" id="ship">üö¢</div>
    </div>

    <div>
      <button onclick="move(-40)">‚¨ÖÔ∏è –í–ª–µ–≤–æ</button>
      <button onclick="move(40)">‚û°Ô∏è –í–ø—Ä–∞–≤–æ</button>
    </div>

    <div class="message" id="message">–ó–≤—ë–∑–¥—ã —Å–æ–±—Ä–∞–Ω—ã: 0 ‚ú®</div>
  </div>

  <script>
    let shipX = 0;
    let stars = 0;
    const sea = document.getElementById('sea');
    const ship = document.getElementById('ship');
    const message = document.getElementById('message');

    function updateShip() {
      ship.style.left = shipX + 'px';
    }

    function spawnStar() {
      if (stars >= 5) return;
      const star = document.createElement('div');
      star.className = 'star';
      star.innerText = '‚≠ê';
      star.style.left = Math.floor(Math.random() * (sea.clientWidth - 40)) + 'px';
      sea.appendChild(star);

      setTimeout(() => {
        if (sea.contains(star)) sea.removeChild(star);
      }, 3000);
    }

    function checkStar() {
      const star = document.querySelector('.star');
      if (!star) return;
      const starX = star.offsetLeft;
      if (Math.abs(starX - shipX) < 40) {
        stars++;
        sea.removeChild(star);
        if (navigator.vibrate) navigator.vibrate(50);
        if (stars < 5) {
          message.innerText = `–ó–≤—ë–∑–¥—ã —Å–æ–±—Ä–∞–Ω—ã: ${stars} ‚ú®`;
        } else {
          finishGame();
        }
      }
    }

    function finishGame() {
      sea.innerHTML = '<div style="font-size:36px;margin-top:70px;">üéâ‚öì‚ú®</div>';
      message.innerHTML = '–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è!<br>–ü—É—Å—Ç—å –ø—É—Ç—å –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç –ª—ë–≥–∫–∏–º –∏ —Å—á–∞—Å—Ç–ª–∏–≤—ã–º üíô';
    }

    let startX = null;

    sea.addEventListener('touchstart', e => {
      startX = e.touches[0].clientX;
    });

    sea.addEventListener('touchmove', e => {
      if (startX === null) return;
      const diff = e.touches[0].clientX - startX;
      shipX += diff * 0.2;
      shipX = Math.max(0, Math.min(sea.clientWidth - 50, shipX));
      updateShip();
      checkStar();
      startX = e.touches[0].clientX;
    });

    shipX = sea.clientWidth / 2;
    updateShip();

    setInterval(spawnStar, 1400);
  </script>
</body>
</html>
